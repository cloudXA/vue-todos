<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vue todos</title>
    <style>
    .completed {
      text-decoration: line-through;
    }
 
    .empty {
        border-color: red;
    }
    </style>
</head>
<body>
    <div id="todo-app">
        <div>
          <input type="button" value="全部标为完成"/>
          <input type="text" placeholder="添加 todo" @keyup.enter="addTodo" v-model="newTodoTitle" v-bind:class="{empty: flag}">
          <span v-if="flag" style="color: red;">请输入字符</span>
        </div>
        <ul>
            <li v-for="todo in todos" :key="todo.id">
                <span v-bind:class="{completed: todo.completed}">{{ todo.title }}</span>
                <!-- 给函数传递一个参数，传递那个TODO对象，从而vue就知道我们要操作的对象了 -->
                <input type="button" value="未完成" v-show="completed" @click="markAsUnComplete(todo)">
                <input type="button" value="标记为完成" @click="markAsComplete(todo)" v-show="!completed">
                <input type="button" value="删除">
                <input type="text" placeholder="添加todo...">
            </li>
        </ul>
        <!-- end todo list -->
        <div>
          <span>剩余 3 项未完成 ---</span>
          <span>筛选：
            <input type="button" class="selected" value="全部">
            <input type="button" value="进行中">
            <input type="button" value="已完成">
            <input type="button" value="清除已完成">
            <input type="button" value="清除全部">
          </span>
        </div>
      </div>
    <script src="./node_modules/./vue/dist/vue.js"></script>
    <script>
        let id = 0;
        var app = new Vue({
            el: "#todo-app",
            data() {
                return {
                    todos: [
                        
                    ],
                    newTodoTitle: '',
                    flag: false,
                    completed: ''
                }
            },
            methods: {
                addTodo() {
                    if(this.count === 0) {
                        this.flag = true;
                        return;
                    }
                    this.todos.push({id: id++, title: this.newTodoTitle, completed: false});
                    this.newTodoTitle = '';
                    this.flag = false;
                },
                markAsComplete(todo) {
                  todo.completed = true;
                  this.completed = todo.completed;
                },
                markAsUnComplete(todo) {
                  todo.completed = false;
                  this.completed = todo.completed;
                }
            },
            computed: {
                    count() {
                        return this.newTodoTitle.length
                    }
                },
            
            
        })
    </script>
</body>
</html>